<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ - Admin</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'sarabun': ['Sarabun', 'sans-serif'],
          },
        },
      },
    }
  </script>
  
  <style>
    body {
      font-family: 'Sarabun', sans-serif;
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen font-sarabun">
  <!-- Login -->
  <div id="admin-login">
    <div class="max-w-md mx-auto mt-20 bg-white rounded-2xl shadow-2xl p-10">
      <h1 class="text-3xl font-bold text-center mb-8 bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">
        üîê Admin Login
      </h1>
      <input type="text" id="username" placeholder="Username" 
        class="w-full px-4 py-3 mb-4 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition text-base">
      <input type="password" id="password" placeholder="Password" 
        class="w-full px-4 py-3 mb-4 border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring focus:ring-indigo-200 transition text-base">
      <button onclick="adminLogin()" 
        class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition transform hover:scale-105">
        ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
      </button>
    </div>
  </div>
  
  <!-- Dashboard -->
  <div id="admin-dashboard" class="hidden">
    <div class="max-w-7xl mx-auto p-5">
      <header class="bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white p-6 rounded-2xl shadow-xl mb-5">
        <h1 class="text-3xl font-bold mb-2">üìä ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h1>
        <p class="text-lg">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö Admin: <span id="admin-name" class="font-semibold"></span></p>
      </header>
      
      <nav class="bg-white p-4 rounded-2xl shadow-lg mb-5 flex flex-wrap gap-3">
        <button onclick="showPendingRequests()" 
          class="px-5 py-3 bg-gradient-to-r from-indigo-500 to-indigo-600 text-white rounded-lg font-medium hover:from-indigo-600 hover:to-indigo-700 transition transform hover:scale-105">
          üìù ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
        </button>
        <button onclick="showAllRequests()" 
          class="px-5 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition transform hover:scale-105">
          üìã ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </button>
        <button onclick="showUploadFiles()" 
          class="px-5 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg font-medium hover:from-green-600 hover:to-green-700 transition transform hover:scale-105">
          üì§ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå
        </button>
        <button onclick="showStatistics()" 
          class="px-5 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg font-medium hover:from-purple-600 hover:to-purple-700 transition transform hover:scale-105">
          üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
        </button>
        <button onclick="showAdminLogs()" 
          class="px-5 py-3 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg font-medium hover:from-gray-600 hover:to-gray-700 transition transform hover:scale-105">
          üìú Log ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
        </button>
      </nav>
      
      <div id="content" class="bg-white p-6 rounded-2xl shadow-lg min-h-[400px]"></div>
    </div>
  </div>
  
  <script>
    /**
     * Admin Login
     */
    function adminLogin() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (!username || !password) {
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Username ‡πÅ‡∏•‡∏∞ Password');
        return;
      }
      
      google.script.run
        .withSuccessHandler(onAdminLoginSuccess)
        .withFailureHandler(function(error) {
          alert('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + error.message);
        })
        .adminLogin(username, password);
    }
    
    function onAdminLoginSuccess(result) {
      if (result.success) {
        document.getElementById('admin-login').classList.add('hidden');
        document.getElementById('admin-dashboard').classList.remove('hidden');
        document.getElementById('admin-name').textContent = result.adminName;
        showPendingRequests();
      } else {
        alert('Login ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ' + result.message);
      }
    }
    
    /**
     * ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
     */
    function showPendingRequests() {
      showLoading();
      google.script.run
        .withSuccessHandler(displayRequests)
        .getPendingRequests();
    }
    
    function displayRequests(requests) {
      let html = '<h2 class="text-2xl font-bold text-gray-800 mb-6">‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (' + requests.length + ' ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)</h2>';
      
      if (requests.length === 0) {
        html += '<div class="text-center py-12">';
        html += '<div class="text-6xl mb-4">üì≠</div>';
        html += '<p class="text-gray-500 text-lg">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</p>';
        html += '</div>';
      } else {
        html += '<div class="overflow-x-auto">';
        html += '<table class="w-full">';
        html += '<thead>';
        html += '<tr class="border-b-2 border-gray-200">';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡πÄ‡∏•‡∏Ç‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡πÑ‡∏ü‡∏•‡πå</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>';
        html += '</tr>';
        html += '</thead>';
        html += '<tbody>';
        
        requests.forEach(function(req) {
          html += '<tr class="border-b border-gray-100 hover:bg-gray-50 transition">';
          html += '<td class="py-3 px-4 text-gray-800">' + req.user_id13 + '</td>';
          html += '<td class="py-3 px-4 text-gray-800">' + req.user_name + '</td>';
          html += '<td class="py-3 px-4">';
          html += '<span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">';
          html += req.document_type;
          html += '</span>';
          html += '</td>';
          html += '<td class="py-3 px-4 text-gray-600 text-sm">' + formatDate(req.request_date) + '</td>';
          html += '<td class="py-3 px-4">';
          
          if (req.file_url) {
            html += '<span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">';
            html += '‚úÖ ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå';
            html += '</span>';
          } else {
            html += '<span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">';
            html += '‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå';
            html += '</span>';
          }
          
          html += '</td>';
          html += '<td class="py-3 px-4">';
          
          if (req.file_url) {
            html += '<button onclick="approveRequest(\'' + req.uuid + '\')" ';
            html += 'class="bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-green-600 hover:to-green-700 transition transform hover:scale-105 mr-2">';
            html += '‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥';
            html += '</button> ';
          } else {
            html += '<button disabled class="bg-gray-300 text-gray-500 px-4 py-2 rounded-lg text-sm font-medium cursor-not-allowed mr-2">‡∏£‡∏≠‡πÑ‡∏ü‡∏•‡πå</button> ';
          }
          
          html += '<button onclick="rejectRequest(\'' + req.uuid + '\')" ';
          html += 'class="bg-gradient-to-r from-red-500 to-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-red-600 hover:to-red-700 transition transform hover:scale-105">';
          html += '‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò';
          html += '</button>';
          html += '</td>';
          html += '</tr>';
        });
        
        html += '</tbody>';
        html += '</table>';
        html += '</div>';
      }
      
      document.getElementById('content').innerHTML = html;
    }
    
    function approveRequest(requestId) {
      if (confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ô‡∏µ‡πâ?')) {
        google.script.run
          .withSuccessHandler(function(result) {
            alert(result.message);
            showPendingRequests();
          })
          .approveRequest(requestId);
      }
    }
    
    function rejectRequest(requestId) {
      const reason = prompt('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò:');
      if (reason) {
        google.script.run
          .withSuccessHandler(function(result) {
            alert(result.message);
            showPendingRequests();
          })
          .rejectRequest(requestId, reason);
      }
    }
    
    /**
     * ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå
     */
    function showUploadFiles() {
      const html = `
        <h2 class="text-2xl font-bold text-gray-800 mb-6">üì§ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</h2>
        <div class="border-2 border-dashed border-gray-300 rounded-2xl p-10 text-center bg-gray-50 hover:border-indigo-400 transition">
          <div class="text-4xl mb-4">üìÅ</div>
          <h3 class="text-xl font-semibold text-gray-800 mb-3">‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</h3>
          <p class="text-gray-600 mb-2">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå: <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono">ID13_‡∏ä‡∏∑‡πà‡∏≠-‡∏™‡∏Å‡∏∏‡∏•.pdf</code></p>
          <p class="text-gray-600 mb-6">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: <code class="bg-gray-200 px-2 py-1 rounded text-sm font-mono">1234567890123_‡∏ô‡∏≤‡∏¢‡∏ó‡∏î‡∏™‡∏≠‡∏ö_‡∏£‡∏∞‡∏ö‡∏ö.pdf</code></p>
          <input type="file" id="fileInput" multiple accept=".pdf" 
            class="block w-full max-w-md mx-auto text-sm text-gray-600 mb-4
            file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0
            file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700
            hover:file:bg-indigo-100 cursor-pointer">
          <button onclick="uploadFiles()" 
            class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition transform hover:scale-105">
            ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î
          </button>
        </div>
        <div id="uploadStatus" class="mt-6"></div>
      `;
      
      document.getElementById('content').innerHTML = html;
    }
    
    function uploadFiles() {
      const fileInput = document.getElementById('fileInput');
      const files = fileInput.files;
      
      if (files.length === 0) {
        alert('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå');
        return;
      }
      
      document.getElementById('uploadStatus').innerHTML = 
        '<div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded"><p class="text-blue-700 font-medium">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î...</p></div>';
      uploadFile(files, 0);
    }
    
    function uploadFile(files, index) {
      if (index >= files.length) {
        document.getElementById('uploadStatus').innerHTML = 
          '<div class="bg-green-50 border-l-4 border-green-500 p-4 rounded">' +
          '<p class="text-green-700 font-bold">‚úÖ ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô ' + files.length + ' ‡πÑ‡∏ü‡∏•‡πå</p>' +
          '</div>';
        return;
      }
      
      const file = files[index];
      const reader = new FileReader();
      
      reader.onload = function(e) {
        const fileData = {
          name: file.name,
          mimeType: file.type,
          content: e.target.result.split(',')[1]
        };
        
        google.script.run
          .withSuccessHandler(function(result) {
            const status = document.getElementById('uploadStatus');
            const statusClass = result.success ? 'text-green-600' : 'text-red-600';
            const icon = result.success ? '‚úÖ' : '‚ùå';
            status.innerHTML += '<p class="' + statusClass + ' py-1">' + icon + ' ' + 
              file.name + ': ' + result.message + '</p>';
            uploadFile(files, index + 1);
          })
          .withFailureHandler(function(error) {
            const status = document.getElementById('uploadStatus');
            status.innerHTML += '<p class="text-red-600 py-1">‚ùå ' + file.name + ': ' + error.message + '</p>';
            uploadFile(files, index + 1);
          })
          .uploadDocumentFile(fileData);
      };
      
      reader.readAsDataURL(file);
    }
    
    /**
     * ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
     */
    function showStatistics() {
      showLoading();
      google.script.run
        .withSuccessHandler(displayStatistics)
        .getStatistics();
    }
    
    function displayStatistics(stats) {
      let html = '<h2 class="text-2xl font-bold text-gray-800 mb-6">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</h2>';
      
      html += '<div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">';
      
      // Summary Stats
      html += '<div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 shadow-md">';
      html += '<h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</h3>';
      html += '<div class="space-y-3">';
      html += '<div class="flex justify-between items-center border-b border-blue-200 pb-2">';
      html += '<span class="text-gray-700">‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span><span class="font-bold text-blue-600 text-xl">' + stats.total + '</span>';
      html += '</div>';
      html += '<div class="flex justify-between items-center border-b border-blue-200 pb-2">';
      html += '<span class="text-gray-700">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span><span class="font-bold text-yellow-600 text-xl">' + stats.pending + '</span>';
      html += '</div>';
      html += '<div class="flex justify-between items-center border-b border-blue-200 pb-2">';
      html += '<span class="text-gray-700">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</span><span class="font-bold text-green-600 text-xl">' + stats.approved + '</span>';
      html += '</div>';
      html += '<div class="flex justify-between items-center border-b border-blue-200 pb-2">';
      html += '<span class="text-gray-700">‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò</span><span class="font-bold text-red-600 text-xl">' + stats.rejected + '</span>';
      html += '</div>';
      html += '<div class="flex justify-between items-center">';
      html += '<span class="text-gray-700">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡πâ‡∏ß</span><span class="font-bold text-purple-600 text-xl">' + stats.downloaded + '</span>';
      html += '</div>';
      html += '</div>';
      html += '</div>';
      
      // By Type Stats
      html += '<div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 shadow-md">';
      html += '<h3 class="text-lg font-semibold text-gray-800 mb-4">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</h3>';
      html += '<div class="space-y-3">';
      for (const type in stats.byType) {
        html += '<div class="flex justify-between items-center border-b border-purple-200 pb-2">';
        html += '<span class="text-gray-700">' + type + '</span><span class="font-bold text-purple-600 text-lg">' + stats.byType[type] + '</span>';
        html += '</div>';
      }
      html += '</div>';
      html += '</div>';
      
      html += '</div>';
      
      document.getElementById('content').innerHTML = html;
    }
    
    /**
     * Admin Logs
     */
    function showAdminLogs() {
      showLoading();
      google.script.run
        .withSuccessHandler(displayAdminLogs)
        .getAdminLogs();
    }
    
    function displayAdminLogs(logs) {
      let html = '<h2 class="text-2xl font-bold text-gray-800 mb-6">üìú Log ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</h2>';
      
      if (logs.length === 0) {
        html += '<div class="text-center py-12">';
        html += '<div class="text-6xl mb-4">üìã</div>';
        html += '<p class="text-gray-500 text-lg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ Log</p>';
        html += '</div>';
      } else {
        html += '<div class="overflow-x-auto">';
        html += '<table class="w-full">';
        html += '<thead>';
        html += '<tr class="border-b-2 border-gray-200">';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡πÄ‡∏ß‡∏•‡∏≤</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">Admin</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥</th>';
        html += '<th class="text-left py-3 px-4 font-semibold text-gray-700">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>';
        html += '</tr>';
        html += '</thead>';
        html += '<tbody>';
        
        logs.forEach(function(log) {
          html += '<tr class="border-b border-gray-100 hover:bg-gray-50 transition">';
          html += '<td class="py-3 px-4 text-gray-600 text-sm">' + formatDate(log.timestamp) + '</td>';
          html += '<td class="py-3 px-4 text-gray-800">' + log.admin_name + '</td>';
          html += '<td class="py-3 px-4">';
          html += '<span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800">';
          html += log.action;
          html += '</span>';
          html += '</td>';
          html += '<td class="py-3 px-4 text-gray-600 text-sm">' + log.details + '</td>';
          html += '</tr>';
        });
        
        html += '</tbody>';
        html += '</table>';
        html += '</div>';
      }
      
      document.getElementById('content').innerHTML = html;
    }
    
    /**
     * Helper Functions
     */
    function showAllRequests() {
      alert('Feature coming soon!');
    }
    
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleString('th-TH');
    }
    
    function showLoading() {
      document.getElementById('content').innerHTML = 
        '<div class="flex flex-col items-center justify-center py-12">' +
        '<div class="animate-spin rounded-full h-16 w-16 border-b-4 border-indigo-600 mb-4"></div>' +
        '<h3 class="text-xl text-gray-700 font-medium">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</h3>' +
        '</div>';
    }
  </script>
</body>
</html>
